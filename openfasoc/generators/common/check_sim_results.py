def compare_files(template_file, result_file, max_allowable_error) -> int:
    """Checks if the generated simulation result file matches with 
    the stored template file.

    Args:
    - 'template_file' (string): The stored template file
    - 'result_file' (string): The result file generated by the simulations
    - 'max_allowable_error' (float): The maximum allowable difference (percent error) in 
    the values in both files

    Returns:
    - 'int': Returns 1 if the differences in readings (if any) is less than the 'max_allowable_error
    else returns 0
    """
    with open(template_file, 'r') as template, open(result_file, 'r') as result:
        next(template)
        next(result)

        for template_line, result_line in zip(template, result):
            template_data = [float(val) for val in template_line.split()]
            result_data = [float(val) for val in result_line.split()]
            
            if template_data[1] != 0.0:
                freq_diff = (abs(template_data[1] - result_data[1]) / template_data[1]) * 100
            else:
                freq_diff = (abs(template_data[1] - result_data[1])) * 100
            if template_data[2] != 0.0:
                power_diff = (abs(template_data[2] - result_data[2]) / template_data[2]) * 100
            else:
                power_diff = (abs(template_data[2] - result_data[2])) * 100
            if template_data[3] != 0.0:
                error_diff = (abs(template_data[3] - result_data[3]) / template_data[3]) * 100
            else:
                error_diff = (abs(template_data[3] - result_data[3])) * 100
            
            if freq_diff <= max_allowable_error and power_diff <= max_allowable_error and error_diff <= max_allowable_error:
                return 1
            else:
                return 0